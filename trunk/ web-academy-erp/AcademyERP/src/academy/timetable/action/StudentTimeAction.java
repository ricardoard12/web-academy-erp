package academy.timetable.action;import java.io.PrintWriter;import java.util.List;import javax.servlet.http.HttpServletRequest;import javax.servlet.http.HttpServletResponse;import javax.servlet.http.HttpSession;import academy.timetable.db.TimetableDAO;public class StudentTimeAction implements Action {	@Override	public ActionForward execute(HttpServletRequest request,			HttpServletResponse response) throws Exception {		ActionForward forward=new ActionForward();		request.setCharacterEncoding("utf-8");		///session 관리		HttpSession session=request.getSession();		String id=(String)session.getAttribute("id");		String level=id.substring(0,1).toUpperCase();		System.out.println(level);		if(level.equals("S")!=true&&level.equals("P")!=true){			response.setContentType("text/html;charset=UTF-8");			PrintWriter out = response.getWriter();			out.println("<script>");			out.println("alert('해당 항목에 접근할 권한이 없습니다.')");			out.println("history.back()");			out.println("</script>");			out.close();			return null;		}				///session 관리				// gp_id 를 알아내서 해당 시간표에 접근 하려고 함		TimetableDAO timetable=new TimetableDAO();		String gp_idx=timetable.getStudentGp_idx(id);		List timetablelist=timetable.getTimetable(gp_idx);		request.setAttribute("timelist", timetablelist);		forward.setPath("./timetable/ViewSTimeTable.jsp");				forward.setRedirect(false);		return forward;	}}